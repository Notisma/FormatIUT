Index: src/vue/Etudiant/vueDetailEtudiant.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><html>\n<head>\n    <link rel=\"stylesheet\" href=\"./../ressources/css/styleVueDetailEtudiant.css\">\n    <script src=\"../ressources/javaScript/mesFonctions.js\"></script>\n</head>\n<body>\n<div class=\"boiteMain\" id=\"aGriser\">\n\n\n    <div class=\"conteneurBienvenueDetailEntr\">\n        <div class=\"texteBienvenue\">\n            <!-- affichage des informations principales de l'offre -->\n            <h2><?php use App\\FormatIUT\\Modele\\Repository\\EtudiantRepository;\n                use App\\FormatIUT\\Modele\\Repository\\FormationRepository;\n\n                $nomHTML = htmlspecialchars($offre->getNomOffre());\n                echo $nomHTML . \" - \" . $offre->getTypeOffre() ?></h2>\n            <h4><?php echo \"Du \" . date_format($offre->getDateDebut(), 'd F Y') . \" au \" . date_format($offre->getDateFin(), 'd F Y') ?></h4>\n            <p><?php echo ($offre->getDateDebut()->diff($offre->getDateFin()))->format('Durée : %m mois, %d jours.'); ?></p>\n        </div>\n        <div class=\"imageBienvenue\">\n            <img src=\"../ressources/images/entrepriseOffre.png\" alt=\"image de bienvenue\">\n        </div>\n    </div>\n\n    <!-- TODO finir de lier à la BD -->\n    <div class=\"infosOffreEntr\">\n        <h3>Les Informations de l'Offre</h3>\n        <div class=\"petitConteneurInfosOffre\">\n            <div class=\"overflowListe\">\n                <div class=\"overflowListe2\">\n                    <div id=\"liseInfosOffreEntr\">\n                        <p><span>Rémunération :</span> <?php echo $offre->getGratification() ?>€ par mois</p>\n                        <p><span>Durée en heures :</span> <?php echo $offre->getDureeHeures() ?> heures au total</p>\n                        <p><span>Nombre de jours par semaines :</span> <?php echo $offre->getJoursParSemaine() ?> jours\n                        </p>\n                        <p><span>Nombre d'Heures hebdomadaires :</span> <?php echo $offre->getNbHeuresHebdo() ?> heures\n                        </p>\n                        <p>\n                            <span>Détails de l'offre :</span> <?php $detailHTML = htmlspecialchars($offre->getDetailProjet());\n                            echo $detailHTML ?></p>\n                        <div class=\"infosSurEntreprise\">\n                            <div class=\"left\">\n                                <?php\n                                echo '<img src=\"data:image/jpeg;base64,' . base64_encode($entreprise->getImg()) . '\" class=\"imageEntr\">';\n                                ?>\n                            </div>\n                            <div class=\"right\">\n                                <h3><?php echo $entreprise->getNomEntreprise(); ?></h3>\n                                <p><span>Téléphone : </span><?php echo $entreprise->getTel(); ?></p>\n                                <p><span>Adresse : </span><?php echo $entreprise->getAdresse(); ?></p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <img src=\"../ressources/images/etudiantsHeureux.png\" alt=\"illu\">\n        </div>\n    </div>\n\n\n    <div class=\"actionsRapidesEntr\">\n        <h3>Actions Rapides</h3>\n        <?php\n        /*\n        echo '<a href=\"?controleur=EtuMain&action=postuler&idOffre=' . rawurlencode($offre->getIdOffre()) . '\">\n                <button class=\"boutonAssigner\" ';\n        $bool = false;\n        $formation = ((new FormationRepository())->estFormation($_GET['idOffre']));\n        if (is_null($formation)) {\n            if (!(new EtudiantRepository())->aUneFormation(\\App\\FormatIUT\\Controleur\\ControleurEtuMain::getCleEtudiant())) {\n                if (!(new EtudiantRepository())->aPostuler(\\App\\FormatIUT\\Controleur\\ControleurEtuMain::getCleEtudiant(), $_GET['idOffre'])) {\n                    $bool = true;\n                }\n            }\n        }\n        if (!$bool) {\n            echo 'id=\"disabled\" disabled';\n        }\n        */\n        ?>\n        <!--\n        >POSTULER</button></a>\n        -->\n\n        <a id=\"my-button\">\n            <button class=\"boutonAssigner\" onclick=\"afficherPopupDepotCV_LM()\">POSTULER</button>\n        </a>\n\n\n        <a href='?action=afficherAccueilEtu&controleur=EtuMain'>\n            <button class='boutonAssigner'>RETOUR</button>\n        </a>\n    </div>\n\n\n    <div class=\"listeEtudiantsPostulants\">\n        <h3>Nombre d'étudiants postulants</h3>\n\n        <div class=\"wrapPostulants\">\n            <?php\n\n            $formation = (new \\App\\FormatIUT\\Modele\\Repository\\FormationRepository())->estFormation($offre->getIdOffre());\n            if ($formation) {\n                if ($formation->getIdEtudiant() == \\App\\FormatIUT\\Controleur\\ControleurEtuMain::getCleEtudiant()) {\n                    echo \"<div class='nbPostulants'>\n                <img src='../ressources/images/equipe.png' alt='postulants'>\n                <h4>Vous avez l'offre</h4></div>\";\n                } else {\n                    echo \"<div class='nbPostulants'>\n                <img src='../ressources/images/equipe.png' alt='postulants'>\n                <h4>L'offre est déjà occupée </h4></div>\";\n                }\n            } else {\n                $listeEtu = ((new \\App\\FormatIUT\\Modele\\Repository\\EtudiantRepository())->EtudiantsEnAttente($offre->getIdOffre()));\n                if (empty($listeEtu)) {\n                    echo \"\n                <div class='erreur'>\n                <h4>Personne n'a postulé. Faites Vite !</h4>\n                <img src='../ressources/images/erreur.png' alt='erreur'>\n                </div>\n                \";\n                } else {\n                    echo \"\n                <div class='nbPostulants'>\n                <img src='../ressources/images/equipe.png' alt='postulants'>\n                <h4>\";\n                    $nbEtudiants = ((new EtudiantRepository())->nbPostulation($offre->getIdOffre()));\n                    echo $nbEtudiants . \" étudiant\";\n                    if ($nbEtudiants == 1) echo \" a\";\n                    else echo \"s ont\";\n                    echo \" déjà postulé.</h4>\n                    </div>\";\n                }\n            }\n\n            ?>\n\n        </div>\n\n    </div>\n\n\n</div>\n\n<div id=\"popup\">\n    <div class=\"mainPopup\">\n        <h2>ENVOYEZ VOS DOCUMENTS POUR POSTULER !</h2>\n\n        <form enctype=\"multipart/form-data\" action=\"?action=deposerFichiers&controleur=EtuMain&idOffre=<?php echo $offre->getIdOffre()?>\" method=\"post\">\n            <label>Déposez votre CV :</label>\n            <input type=\"hidden\" name=\"MAX_FILE_SIZE\" value=\"1000000\"/>\n            <input type=\"file\" name=\"fic\" size=500/>\n            <label>Déposez votre Lettre de Motivation :</label>\n            <input type=\"hidden\" name=\"MAX_FILE_SIZE\" value=\"1000000\"/>\n            <input type=\"file\" name=\"ficLM\" size=500/>\n            <input type=\"submit\" value=\"Envoyer\"/>\n        </form>\n\n        <div class=\"conteneurBoutonPopup\">\n            <a onclick=\"fermerPopupDepotCV_LM()\">\n                <button class=\"boutonAssignerPopup\">RETOUR</button>\n            </a>\n\n            <?php\n\n            echo '<a href=\"?controleur=EtuMain&action=postuler&idOffre=' . rawurlencode($offre->getIdOffre()) . '\">\n                <button class=\"boutonAssignerPopup\" ';\n            $bool = false;\n            $formation = ((new FormationRepository())->estFormation($_GET['idOffre']));\n            if (is_null($formation)) {\n                if (!(new EtudiantRepository())->aUneFormation(\\App\\FormatIUT\\Controleur\\ControleurEtuMain::getCleEtudiant())) {\n                    if (!(new EtudiantRepository())->aPostuler(\\App\\FormatIUT\\Controleur\\ControleurEtuMain::getCleEtudiant(), $_GET['idOffre'])) {\n                        $bool = true;\n                    }\n                }\n            }\n            if (!$bool) {\n                echo 'id=\"disabled\" disabled';\n            }\n            echo \">POSTULER</button></a>\";\n            ?>\n        </div>\n    </div>\n\n    <div class=\"descPopup\">\n        <img src=\"../ressources/images/déposerCV.png\" alt=\"image\">\n        <h2>DEPOSEZ VOS DOCUMENTS POUR AVOIR UN PROFIL COMPLET ET AVOIR PLUS DE CHANCES !</h2>\n    </div>\n</div>\n\n\n</body>\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/vue/Etudiant/vueDetailEtudiant.php b/src/vue/Etudiant/vueDetailEtudiant.php
--- a/src/vue/Etudiant/vueDetailEtudiant.php	(revision 85f82069215c28c833628a4547a0b450d7c3725c)
+++ b/src/vue/Etudiant/vueDetailEtudiant.php	(date 1698329695642)
@@ -154,7 +154,6 @@
             <label>Déposez votre Lettre de Motivation :</label>
             <input type="hidden" name="MAX_FILE_SIZE" value="1000000"/>
             <input type="file" name="ficLM" size=500/>
-            <input type="submit" value="Envoyer"/>
         </form>
 
         <div class="conteneurBoutonPopup">
@@ -175,6 +174,9 @@
                     }
                 }
             }
+            if(sizeof($_FILES) == 2){
+                $boll = true;
+            }
             if (!$bool) {
                 echo 'id="disabled" disabled';
             }
